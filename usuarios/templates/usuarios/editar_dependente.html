{% extends 'usuarios/base.html' %} {% block title %}Editar Dependente - Cadastro
de Pessoas{% endblock %} {% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-10 col-lg-9">
      <div class="card">
        <div class="card-body p-5">
          <div class="text-center mb-4">
            <div class="display-4 text-warning mb-3">
              <i class="bi bi-pencil-square"></i>
            </div>
            <h2 class="fw-bold">Editar Dependente</h2>
            <p class="text-muted">
              Atualize os dados de {{ dependente.nome_completo }}
            </p>
          </div>
          <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <!-- Dados Pessoais -->
            <div class="row mb-4">
              <div class="col-12">
                <h5 class="fw-bold text-primary border-bottom pb-2 mb-3">
                  <i class="bi bi-person me-2"></i>
                  Dados Pessoais
                </h5>
              </div>
              <div class="col-12 mb-3">
                <div class="col-12 mb-3">
                  <label
                    for="{{ form.foto.id_for_label }}"
                    class="form-label fw-bold"
                  >
                    <i class="bi bi-camera me-1"></i>
                    Foto do Dependente
                  </label>
                  {% if dependente.foto %}
                  <div class="mb-2">
                    <img
                      src="{{ dependente.foto.url }}"
                      alt="Foto atual"
                      class="img-thumbnail"
                      style="max-width: 150px; max-height: 150px"
                    />
                    <small class="text-muted d-block">Foto atual</small>
                  </div>
                  {% endif %} {{ form.foto }} {% if form.foto.errors %}
                  <div class="text-danger small mt-1">
                    {% for error in form.foto.errors %}
                    <div>{{ error }}</div>
                    {% endfor %}
                  </div>
                  {% endif %}
                  <small class="text-muted">{{ form.foto.help_text }}</small>
                </div>
                <label
                  for="{{ form.nome_completo.id_for_label }}"
                  class="form-label fw-bold"
                >
                  Nome Completo
                </label>
                {{ form.nome_completo }} {% if form.nome_completo.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.nome_completo.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
              </div>
              <div class="col-md-3 mb-3">
                <label
                  for="{{ form.cpf.id_for_label }}"
                  class="form-label fw-bold"
                >
                  CPF
                </label>
                {{ form.cpf }}
              </div>
              <div class="col-md-3 mb-3">
                <label
                  for="{{ form.data_nascimento.id_for_label }}"
                  class="form-label fw-bold"
                >
                  Data de Nascimento
                </label>
                {{ form.data_nascimento }} {% if form.data_nascimento.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.data_nascimento.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
                <small class="text-muted"
                  >Dependente deve ter entre 6 e 18 anos</small
                >
              </div>
              <div class="col-md-6 mb-3">
                <label
                  for="{{ form.parentesco.id_for_label }}"
                  class="form-label fw-bold"
                >
                  Parentesco
                </label>
                {{ form.parentesco }} {% if form.parentesco.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.parentesco.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
              </div>
            </div>
            <!-- Endereço -->
            <div class="row mb-4">
              <div class="col-12">
                <h5 class="fw-bold text-primary border-bottom pb-2 mb-3">
                  <i class="bi bi-geo-alt me-2"></i>
                  Endereço
                </h5>
              </div>

              <div class="col-md-4 mb-3">
                <label
                  for="{{ form.cep.id_for_label }}"
                  class="form-label fw-bold"
                >
                  CEP
                </label>
                {{ form.cep }} {% if form.cep.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.cep.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
                <small class="text-muted">Preenchimento automático</small>
              </div>
              <div class="col-md-6 mb-3">
                <label
                  for="{{ form.logradouro.id_for_label }}"
                  class="form-label fw-bold"
                >
                  Logradouro
                </label>
                {{ form.logradouro }} {% if form.logradouro.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.logradouro.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
              </div>

              <div class="col-md-2 mb-3">
                <label
                  for="{{ form.numero.id_for_label }}"
                  class="form-label fw-bold"
                >
                  Número
                </label>
                {{ form.numero }} {% if form.numero.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.numero.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
              </div>

              <div class="col-md-6 mb-3">
                <label
                  for="{{ form.complemento.id_for_label }}"
                  class="form-label fw-bold"
                >
                  Complemento
                </label>
                {{ form.complemento }} {% if form.complemento.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.complemento.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
              </div>

              <div class="col-md-4 mb-3">
                <label
                  for="{{ form.bairro.id_for_label }}"
                  class="form-label fw-bold"
                >
                  Bairro
                </label>
                {{ form.bairro }} {% if form.bairro.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.bairro.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
              </div>

              <div class="col-md-2 mb-3">
                <label
                  for="{{ form.uf.id_for_label }}"
                  class="form-label fw-bold"
                >
                  UF
                </label>
                {{ form.uf }} {% if form.uf.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.uf.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
              </div>

              <div class="col-md-6 mb-3">
                <label
                  for="{{ form.cidade.id_for_label }}"
                  class="form-label fw-bold"
                >
                  Cidade
                </label>
                {{ form.cidade }} {% if form.cidade.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.cidade.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
              </div>
            </div>

            <!-- Dados Escolares -->
            <div class="row mb-4">
              <div class="col-12">
                <h5 class="fw-bold text-primary border-bottom pb-2 mb-3">
                  <i class="bi bi-mortarboard me-2"></i>
                  Dados Escolares
                </h5>
              </div>

              <div class="col-md-4 mb-3">
                <label
                  for="{{ form.escolaridade.id_for_label }}"
                  class="form-label fw-bold"
                >
                  Escolaridade
                </label>
                {{ form.escolaridade }} {% if form.escolaridade.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.escolaridade.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
              </div>

              <div class="col-md-6 mb-3">
                <label
                  for="{{ form.escola.id_for_label }}"
                  class="form-label fw-bold"
                >
                  Escola
                </label>
                {{ form.escola }} {% if form.escola.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.escola.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
              </div>

              <div class="col-md-2 mb-3">
                <label
                  for="{{ form.turno.id_for_label }}"
                  class="form-label fw-bold"
                >
                  Turno
                </label>
                {{ form.turno }} {% if form.turno.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.turno.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
              </div>
            </div>

            <!-- Condições Médicas -->
            <div class="row mb-4">
              <div class="col-12">
                <h5 class="fw-bold text-primary border-bottom pb-2 mb-3">
                  <i class="bi bi-heart-pulse me-2"></i>
                  Condições Médicas
                </h5>
              </div>

              <div class="col-12 mb-3">
                <label
                  for="{{ form.condicoes_medicas.id_for_label }}"
                  class="form-label fw-bold"
                >
                  Condições Médicas para Prática de Esportes
                </label>
                {{ form.condicoes_medicas }} {% if form.condicoes_medicas.errors %}
                <div class="text-danger small mt-1">
                  {% for error in form.condicoes_medicas.errors %}
                  <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}
              </div>
            </div>

            <!-- Termos -->
            <div class="row mb-4">
              <div class="col-12">
                <h5 class="fw-bold text-primary border-bottom pb-2 mb-3">
                  <i class="bi bi-file-text me-2"></i>
                  Termos e Condições
                </h5>
              </div>

              <div class="col-12 mb-3">
                <div class="form-check">
                  {{ form.termo_responsabilidade }}
                  <label
                    class="form-check-label fw-bold"
                    for="{{ form.termo_responsabilidade.id_for_label }}"
                  >
                    Aceito os Termos de Responsabilidade
                  </label>
                  {% if form.termo_responsabilidade.errors %}
                  <div class="text-danger small mt-1">
                    {% for error in form.termo_responsabilidade.errors %}
                    <div>{{ error }}</div>
                    {% endfor %}
                  </div>
                  {% endif %}
                </div>
                <small class="text-muted">
                  Declaro que sou responsável pelo dependente e autorizo sua
                  participação nas atividades.
                </small>
              </div>

              <div class="col-12 mb-3">
                <div class="form-check">
                  {{ form.termo_uso_imagem }}
                  <label
                    class="form-check-label fw-bold"
                    for="{{ form.termo_uso_imagem.id_for_label }}"
                  >
                    Autorizo o Uso de Imagem
                  </label>
                  {% if form.termo_uso_imagem.errors %}
                  <div class="text-danger small mt-1">
                    {% for error in form.termo_uso_imagem.errors %}
                    <div>{{ error }}</div>
                    {% endfor %}
                  </div>
                  {% endif %}
                </div>
                <small class="text-muted">
                  Autorizo o uso da imagem do dependente para fins
                  institucionais e de divulgação.
                </small>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <div class="d-flex gap-3">
                  <button type="submit" class="btn btn-warning btn-lg">
                    <i class="bi bi-pencil-square me-2"></i>
                    Salvar Alterações
                  </button>
                  <a
                    href="{% url 'home' %}"
                    class="btn btn-outline-secondary btn-lg"
                  >
                    <i class="bi bi-arrow-left me-2"></i>
                    Voltar
                  </a>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
